# 나만의 유튜브 강의실 미션
유튜브 API를 활용하여, 유튜브 영상을 검색하고, 저장 및 관리할 수 있는 웹페이지를 구현한다. 

- 페어 : 마르코, 위니
- 데모페이지 : https://rladpwl0512.github.io/javascript-youtube-classroom/
## step1 
### step1 기능 요구사항 정리
- [x] 모달창 표시 버튼이 클릭된다. -> UI
  - [x] 유튜브 검색 모달창을 띄운다. -> UI

[모달창]
- [x] 검색 input에 검색어가 입력된다. -> UI (+ 도메인)
- [x] 검색 버튼이 클릭된다. -> UI
  - [x] 엔터키를 눌러도 검색 버튼의 이벤트가 발동된다. 
  - [x] 검색 결과가 없는 경우 결과 없음 이미지를 보여준다. -> UI
  - [x] 입력된 검색어가 공백일 경우 검색을 하지 않는다. -> UI
  - [x] 입력된 검색어가 있을 경우 유튜브 API를 가져온다. -> 도메인 
    - [x] API에 검색어에 맞는 데이터(썸네일 사진, 제목, 채널명, 날짜, 링크)를 요청한다. -> 도메인
    - [x] 가져온 데이터를 model에 저장한다. -> 도메인
  - [x] 가져온 데이터를 화면에 그려준다. -> UI
    - [x] API에서 데이터를 불러오는 동안 스켈레톤 UI를 보여준다. -> UI
    - [x] 아직 보여주지 않은 영상 아이템 10개를 model에서 가져온다. -> 도메인
    - [x] 전달된 영상 아이템을 보여준다. -> UI
      - [x] '퍼가기 제한 영상'은 재생 및 썸네일 로딩이 불가하여 이미지 썸네일을 덮어 씌우고 링크를 붙여서, 이미지를 클릭 시 동영상으로 넘어가게 함. 
      - [x] 썸네일 이미지 클릭시 넘어가는 동영상은 자동재생 되도록 함.
      - [x] 썸네일 이미지에 유튜브 로고 애니메이션 추가.
    - [x] 검색 결과 화면에서 유저에 의해 브라우저 스크롤 바가 이동된다. -> UI
      - [x] API에서 데이터를 불러오는 동안 스켈레톤 UI를 보여준다. -> UI
      - [x] 아직 보여주지 않은 영상 아이템 10개를 model에서 가져온다. -> 도메인
      - [x] 데이터에서 그 다음 10개 아이템을 추가로 보여준다. -> UI
- [x] 저장 버튼이 클릭된다. -> UI
  - [x] 로컬스토리지에 있는 영상 아이템의 개수가 100개를 초과할 경우, alert 창을 띄운다. -> UI
  - [x] 영상 아이템의 개수가 100개 미만일 경우, 해당 영상 아이템의 데이터가 로컬스토리지에 저장된다. -> 도메인
    - [x] 저장이 된 경우, 해당 영상 아이템의 저장 버튼을 저장됨 버튼으로 바꾼다. 
    - [x] 해당 영상 아이템의 저장 버튼을 비활성화시킨다. -> UI

### step1 테스트 코드 대상(Jest)
- [x] 검색어가 입력되지 않은 경우, 에러를 발생시킨다. 
- [x] API에서 데이터가 불러졌을 경우(또는 dummy), 입력된 검색어에 부합하는 데이터를 가져와야한다.
  - [x] API(또는 dummy)에서 가져온  영상의 제목들에 사용자가 입력한 검색어가 포함되어있어야한다.
  - [x] API(또는 dummy)에서 가져온  영상의 데이터(썸네일 사진, 제목, 채널명, 날짜, 링크)가 존재해야한다.
## step2
### step2 기능 요구사항 정리
- [x] '볼 영상', '본 영상'의 탭을 보여준다. 
- [x] '볼 영상', '본 영상' 탭이 클릭되면 각각에 맞게 영상이 필터링 된다. 
- [x] localStorage에 저장된 영상이 없다면, 비어있다는 것을 사용자에게 알려준다.  
- [x] localStorage에 저장된 영상이 있다면, 
  - [x] 초기 화면에서는 내가 '볼 영상'들의 리스트를 보여준다.
- [x] 영상 카드의 이모지 버튼을 클릭되면, 아래와 같이 상태 변경이 된다. 
    - [x] 🗑️ 버튼으로 저장된 리스트에서 삭제할 수 있다. 
      - [x] 삭제 시 사용자에게 정말 삭제할 것인지 확인하기 위해, '정말 삭제하시겠습니까?'와 같은 confirm창을 띄운다. 
      - [x] '예'를 클릭할 시, localStorage에서 해당 영상을 삭제한다.  
    - [x] ✅ 본 영상으로 체크(toggle 가능)   
- [x] 반응형 웹: 유저가 사용하는 디바이스의 가로 길이에 따라 검색결과의 row 당 column 갯수가 변경된다.
  - [x] 1280px 이상: 4개
  - [x] 960px이상~1280px 미만: 3개
  - [x] 600px이상~960px 미만: 2개
  - [x] 600px 미만: 1개

### step2 테스트 코드 대상(Cypress)
- [x] 초기 화면에서는 저장된 영상을 확인할 수 없다. 
- [x] 동영상 검색 및, 영상을 저장하고 모달 창을 닫았을 때, 볼 영상 목록의 길이가 1이다.
- [x] 볼영상 탭에서 체크 버튼을 클릭하면, 해당 영상은 본영상 탭으로 이동한다.
- [x] 본영상 탭에서 체크 버튼을 클릭하면, 해당 영상은 볼영상 탭으로 이동한다.
- [x] 삭제 버튼을 클릭하면, 해당 영상은 삭제된다.

## 기본 요구 사항 
- [x] 비즈니스 로직에 대한 단위 테스트를 Jest로 작성한다.(step1)
- [x] Webpack을 사용해 스스로 빌드 환경을 구축한다. 해결이 어려운 경우, 이전 미션에서의 빌드 환경 설정을 참고한다.
- [x] 실행 가능한 페이지에 접근할 수 있도록 github page 기능을 이용하고, 해당 링크를 PR과 README에 작성한다.
- [x] API key를 public repo에 올리지 않은 채로 데모 페이지를 배포하려면, 별도의 설정이 추가로 필요합니다. 아래 글들을 참고해주세요
- [x] 핵심 플로우에 대한 E2E 테스트를 작성한다. (step2)
- [x] 검증이 필요하다고 생각되는 플로우를 1가지 설정하고 이에 대한 검증을 E2E 테스트로 진행한다.
- [x] 실행 가능한 페이지에 접근할 수 있도록 github page 기능을 이용하고, 해당 링크를 PR과 README에 작성한다.
## 리팩터링 (issue)
- [ ] 포코 피드백 
- [ ] Controller 분리 
- [ ] 엔터키에 대한 debounce 처리 
- [ ] observer 리팩터링 
- [ ] E2E 테스트: wait말고 다른 것 찾아보기. (fetch)
- [ ] 동영상의 썸네일이 보이지 않는 경우 (검색어 a)
- [ ] 1단계 전체 맵 보면서, 일어날 수 있는 에러 대응 
- [ ] 사용성 (크루들 참고)-저장했을 때, 저장메시지 띄우기(alert 말고)
- [ ] handleClickUserButton 리팩터링 
- [ ] class가 필요한지 생각 
- [ ] css 변수 활용해서 다크모드만들어보기
- [x] this.video => this.videoModel
- [x] css 변수 지정 
- [x] 볼 영상이 아무것도 없을 때 이미지 
- [x] 영상 렌더링 되면, 메시지 없애기 + 영상이 하나도 없으면 메시지 생기게 하기 
- [x] 동영상이 10개 미만일 경우 제대로 결과창이 뜨도록 수정 
- [x] showNotFound 이후 검색했을 때, 스켈레톤이 안나오는 이슈 해결 
- [x] 모달창을 닫는 기능 추가 
  - [x] x버튼 눌렀을 때 
  - [x] dimmer 부분 클릭했을 때 
  - [x] esc 버튼 클릭했을 때 
- [x] SearchInputView에서 keycode 상수화 🤔괜찮은 방식인지? 
- [x] closeModal에 대한 view를 input에서 분리 
- [x] import문 정리 
- [x] dom요소 부모에서 불러오기 
